<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Government Primary School Pethgam Wagoora</title>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">

<style>
/* Basic popup fallback so it always works */
#formPopup {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.5);
  display: none;
  justify-content: center;
  align-items: center;
  padding: 10px;
  z-index: 9999;
}

.form-box {
  background: #fff;
  padding: 20px;
  width: 95%;
  max-width: 450px;
  border-radius: 12px;
  max-height: 90vh;
  overflow-y: auto;
}
</style>

</head>

<body>

<header class="header" style="text-align:center; padding:20px;">
    <h1>Government Primary School Pethgam Wagoora</h1>
    <p class="sub-heading">Nursery to 5th Grade</p>

    <!-- NEW INFO ADDED -->
    <p style="margin-top:10px; font-size:14px;">
        üìß Email: <b>pspethgam@gmail.com</b> |
        üè´ UDISE: <b>01022202207</b> |
        üìû Contact: <b>7006261694, 9596449881</b>
    </p>
</header>

<nav class="menu">
    <a href="#about">About Us</a>
    <a href="#admissions">Admissions</a>
    <a href="#facilities">Facilities</a>
    <a href="#staff">Staff</a>
    <a href="#exam">Examinations</a>
    <a href="#results">Results</a>
    <a href="#admin">Update Panel</a>
</nav>


<section class="notifications">
    <marquee>üì¢ Winter Vacation: 1 Dec 2025 ‚Äì 28 Feb 2026 | üéí New Admissions Open (Nursery‚Äì5th) | üåü Visit Daily for Updates!</marquee>
</section>


<!-- ABOUT SECTION -->
<section id="about" class="about-section">
    <h2>About Us</h2>

    <div class="about-card">
        <p>
            Government Primary School Pethgam Wagoora (Nursery to Grade 5), established in June 2005, provides a joyful and child-friendly learning environment under the Samagra Shiksha Scheme.
        </p>
    </div>

    <div class="about-grid">
        <div class="about-box">
            <h3>School Information</h3>
            <ul>
                <li><b>Established:</b> June 2005</li>
                <li><b>School Hours:</b> 10:30 AM ‚Äì 3:30 PM</li>
                <li><b>Classes Offered:</b> Nursery to Grade 5</li>
            </ul>
        </div>

        <div class="about-box">
            <h3>Child-Friendly Facilities</h3>
            <ul>
                <li>Free Textbooks</li>
                <li>Free Uniform</li>
                <li>Free Health Check-up & Medicines</li>
                <li>Free Medical Aids</li>
                <li>Free Transportation for Referred Students</li>
                <li>Quality Education</li>
            </ul>
        </div>
    </div>

    <div class="about-message">
        <h3>Head of Institution‚Äôs Message</h3>
        <p>
            ‚ÄúWelcome to Government Primary School Pethgam Wagoora.
            Our commitment is to provide joyful learning experiences and build strong foundations for a bright future.‚Äù
        </p>
        <b>‚Äî Mohammad Ashraf Rather, Head of Institution</b>
    </div>
</section>


<!-- ADMISSION SECTION -->
<section class="admission-section" id="admissions">
    <h2>üìò Online Admission ‚Äì 2025</h2>

    <div class="card-container">
        <div class="admission-card">
            <h3>New Admission</h3>
            <p>Fill the form online, upload student photo, and download pre-filled PDF.</p>
            <div class="btn" onclick="openForm()">Apply Now</div>
        </div>
    </div>
</section>


<!-- POPUP FORM -->
<div id="formPopup" aria-hidden="true">
    <div class="form-box">

        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
            <h3 style="margin:0">Admission Form</h3>
            <button type="button" onclick="closeForm()" style="background:#d9534f;color:#fff;border:none;padding:6px 10px;border-radius:8px;cursor:pointer;">‚úñ Close</button>
        </div>

        <form id="admissionForm" onsubmit="handleSubmit(event)">
            <label>Student Full Name</label>
            <input type="text" id="studentName" name="studentName" required>

            <label>Father's Name</label>
            <input type="text" id="fatherName" name="fatherName" required>

            <label>Mother's Name</label>
            <input type="text" id="motherName" name="motherName">

            <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px;">
                <div>
                    <label>Date of Birth</label>
                    <input type="date" id="dob" name="dob" required>
                </div>
                <div>
                    <label>Gender</label>
                    <select id="gender" name="gender">
                        <option value="">Select</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                    </select>
                </div>
            </div>

            <label>Applying For Class</label>
            <select id="applyClass" name="applyClass" required>
                <option value="">Select Class</option>
                <option>Nursery</option>
                <option>KG</option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>

            <label>Address</label>
            <textarea id="address" name="address"></textarea>

            <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px;">
                <div>
                    <label>Parent Contact</label>
                    <input type="tel" id="contact" name="contact" required>
                </div>

                <div>
                    <label>Aadhaar (if any)</label>
                    <input type="text" id="aadhaar" name="aadhaar">
                </div>
            </div>

            <label>Previous School (if any)</label>
            <input type="text" id="prevSchool" name="prevSchool">

            <label>Upload Photo</label>
            <input type="file" id="photoUpload" accept="image/*" onchange="previewPhoto(event)">

            <div id="photoPreview" style="display:none;">
                <small>Photo preview:</small>
                <img id="previewImg" style="width:100px;height:120px;object-fit:cover;margin-top:5px;border:1px solid #ccc;border-radius:6px;">
            </div>

            <button type="submit" class="submit-btn">Submit Now</button>
        </form>

        <!-- Success Box -->
        <div id="successBox" class="success-box" style="text-align:center; margin-top:12px; display:none;">
            <p style="font-size:18px;">‚úî Submitted Successfully</p>
            <button class="btn" onclick="generateAdmissionPDF()">Download Now</button>
        </div>
    </div>
</div>


<!-- STAFF SECTION -->
<section id="staff" class="section">
    <h2>Our Staff</h2>
    <h3>Head of Institution</h3>

    <div class="staff-grid">
        <div class="staff-card">
            <img src="https://pspathgam.github.io/pry_school_pethgam/images/staff/mohammad-ashraf-rather.jpg.png">
            <p><strong>Mohammad Ashraf Rather</strong></p>
            <small>Head of Institution (HOI)</small>
        </div>
    </div>

    <h3>Teaching Staff</h3>
    <div class="staff-grid">
        <div class="staff-card">
            <img src="https://pspathgam.github.io/pry_school_pethgam/images/staff/mohammad-iqbal-rather.jpg.jpg">
            <p><strong>Mohammad Iqbal Rather</strong></p>
            <small>Teacher</small>
        </div>

        <div class="staff-card">
            <img src="https://pspathgam.github.io/pry_school_pethgam/images/staff/zamrooda-bano.jpg.jpg">
            <p><strong>Zamrooda Bano</strong></p>
            <small>Teacher</small>
        </div>
    </div>

    <h3>Non-Teaching Staff</h3>
    <div class="staff-grid">
        <div class="staff-card">
            <img src="https://pspathgam.github.io/pry_school_pethgam/images/staff/masrat-begum.jpg.jpg">
            <p><strong>Masrat Begum</strong></p>
            <small>AAYA</small>
        </div>

        <div class="staff-card">
            <img src="https://pspathgam.github.io/pry_school_pethgam/images/staff/shaheena-bano.jpg.jpg">
            <p><strong>Shaheena Bano</strong></p>
            <small>Cook-Cum-Helper</small>
        </div>
    </div>
</section>


<section id="exam" class="section">
    <h2>Examinations</h2>
    <ul>
        <li>FA1‚ÄìFA6: 5 Marks each</li>
        <li>Co-curricular: 20 Marks each</li>
        <li>Summative Assessment (SA): 50 Marks</li>
        <li>Total per Subject: 100 Marks</li>
        <li>Subjects: English, Mathematics, EVS, Urdu, Kashmiri</li>
    </ul>
</section>


<section id="results" class="section">
    <h2>Results</h2>
    <p>Results will be uploaded soon.</p>
</section>


<section id="admin" class="section">
    <h2>Website Update Panel</h2>
    <p>This section will be used by HOI or Admin to update content.</p>
    <a class="update-btn">Go to Update Panel</a>
</section>


<footer>
    <p>¬© 2025 Government Primary School Pethgam Wagoora</p>
</footer>


<!-- JS LIBRARIES -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>


<!-- CLEANED & MERGED JAVASCRIPT -->
<script>

// OPEN POPUP
function openForm() {
    const popup = document.getElementById('formPopup');
    popup.style.display = 'flex';
    popup.setAttribute('aria-hidden', 'false');

    document.getElementById('admissionForm').reset();
    document.getElementById('photoPreview').style.display = 'none';
    document.getElementById('successBox').style.display = 'none';
}

// CLOSE POPUP
function closeForm() {
    const popup = document.getElementById('formPopup');
    popup.style.display = 'none';
    popup.setAttribute('aria-hidden', 'true');
}

// PHOTO PREVIEW
function previewPhoto(event) {
    const file = event.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
        document.getElementById('previewImg').src = e.target.result;
        document.getElementById('photoPreview').style.display = 'block';
    };
    reader.readAsDataURL(file);
}

// SHOW SUCCESS BOX
function handleSubmit(e) {
    e.preventDefault();

    const name = document.getElementById('studentName').value.trim();
    const contact = document.getElementById('contact').value.trim();
    const dob = document.getElementById('dob').value;
    const applyClass = document.getElementById('applyClass').value;

    if (!name || !contact || !dob || !applyClass) {
        alert("Please fill all required fields.");
        return;
    }

    document.getElementById('successBox').style.display = 'block';
}


// GENERATE PDF
function generateAdmissionPDF() {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF({ unit: 'pt', format: 'a4' });

    const formData = new FormData(document.getElementById('admissionForm'));
    const e = {};
    formData.forEach((v,k) => e[k] = v);

    pdf.setFontSize(18);
    pdf.text("Admission Form - Government Primary School Pethgam Wagoora", 300, 40, { align: "center" });

    pdf.setFontSize(12);
    let y = 90;

    const fields = [
        ["Student Name", e.studentName],
        ["Father Name", e.fatherName],
        ["Mother Name", e.motherName],
        ["DOB", e.dob],
        ["Gender", e.gender],
        ["Applying For Class", e.applyClass],
        ["Address", e.address],
        ["Contact", e.contact],
        ["Aadhaar", e.aadhaar],
        ["Previous School", e.prevSchool]
    ];

    fields.forEach(([label, value]) => {
        pdf.text(`${label}: ${value || ""}`, 40, y);
        y += 22;
    });

    // INSERT PHOTO
    const img = document.getElementById('previewImg');
    if (img && img.src) {
        pdf.addImage(img.src, "JPEG", 380, 90, 140, 170);
    }

    pdf.save("Admission_Form_GPS_Pethgam.pdf");
}

</script>

</body>
</html>
